Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

Целью данной практической работы является создание библиотеки фильтров на основе базовых операций над изображениями (матрицами), используя возможности OpenCV.

Описание алгоритмов для реализации фильтров
1. Перевод изображения в оттенки серого  
Для преобразования изображения в градации серого для каждого пикселя вычисляется новое значение по следующей формуле:  
0.299 * (R) + 0.587 * (G) + 0.114 * (B)  
Эта формула представляет собой взвешенную сумму значений каналов красного (R), зеленого (G) и синего (B) для каждого пикселя. Новое значение яркости записывается только в первый канал, поскольку нам требуется информация только о яркости.

2. Изменение разрешения изображения
Этот алгоритм используется для изменения размера изображения. В ходе работы создается новая координатная сетка для изображения с заданным разрешением. В ней задаются координаты пикселей исходного изображения, которые будут сопоставлены с пикселями нового изображения. Для этого строятся два массива по осям X и Y, значения которых нормализуются (делятся на `new_width - 1`) для получения диапазона от 0 до 1, затем масштабируются умножением на `image.shape[1] - 1` и округляются. Итоговое изображение содержит пиксели исходного изображения, распределенные по новой сетке в соответствии с новым размером.

3. Применение сепии к изображению
Для создания эффекта сепии используется преобразование каналов изображения с помощью матрицы:  
R = 0.393 * R + 0.769 * G + 0.189 * B
G = 0.349 * R + 0.686 * G + 0.168 * B 
B = 0.272 * R + 0.534 * G + 0.131 * B
Если значения пикселей выходят за пределы допустимого диапазона (0–255), они обрезаются до 255.

4. Применение эффекта виньетки
Для создания виньетки сначала формируется координатная сетка, и для каждого пикселя вычисляется расстояние до границ круга:  
distance = np.sqrt((y - center_y) ** 2 + (x - center_x) ** 2)
outside_circle = distance > radius
distance_to_border = distance[outside_circle] - radius
Далее вычисляется маска, которая содержит коэффициенты экспоненциального затухания для пикселей, находящихся за границей круга, создавая плавный переход от центра к краям.
6. Пикселизация области изображения
Для пикселизации выбранной прямоугольной области изображения каждый блок пикселей в заданной области заменяется средним значением цветов в этом блоке. Алгоритм проходит по блокам, вычисляет среднее значение цвета для каждого блока и затем присваивает это значение всем пикселям внутри данного блока.
